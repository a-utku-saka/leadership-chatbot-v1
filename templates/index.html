<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chatbot</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>
<body>
    <!-- Pop-up Information Box -->
    <div id="info-box" class="info-box">
        <p><strong>Hoş Geldiniz!</strong><br> Sorularınızı aşağıdaki kutuya yazabilirsiniz. Mikrofon butonu ile spech to text özelliğini kullanabilirsiniz. 
            Model ilk olarak sorunun cevabını videolardan oluşturulmuş vektörel veri tabanında arar, eşleşme skoru en yüksek olan vektörler yani bağlam döndürülür ve LLM bu bağlamdaki bilgi ile cevap verir. 
            Eğer cevap vektörel veritabanında bulunumazsa veya doğruluk skoru düşükse LLM dış kaynakları kullanarak cevap verir ve de vektörel veri tabanında bağlamın direk olmadığını belirtir. 
            Bu sayede en doğru cevapları ilk olarak videoları esas alarak daha sorna LLM kullanarak verir.  
            Sorularınızı aşağıdaki kutuya yazabilirsiniz. </p>
        <button onclick="closeInfoBox()">Okudum</button>
    </div>

    <div class="chat-container">
        <h1>Chatbot</h1>
        <div id="chat-box">
            <p class="bot-message">Merhaba! Liderlik hakkındaki sorularınızı bekliyorum...</p>
        </div>
        <div id="loading-spinner"></div> <!-- Loading Animation -->
        <div class="spinner" id="loading-spinner"></div> <!-- Loading Animation -->
        <div class="input-container">
            <input type="text" id="user-input" placeholder="Mesajınızı yazın..." onkeypress="handleKeyPress(event)">
            <button onclick="sendMessage()">Gönder</button>
            <button id="mic-button">🎤</button> <!-- Microphone audio pickup button -->
        </div>
    </div>
    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>